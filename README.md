 <h1 align="center">ğŸ“š Golangä¸€ç«™å¼å­¦ä¹ ä»“åº“</h1>
 <p align="center">
  ğŸŒŸ æœ¬ä»“åº“æ—¨åœ¨ä¸ºå­¦ä¹  Golang çš„ç¨‹åºå‘˜ä»¬æä¾›å­¦ä¹ èµ„æºå¯¼èˆª
</p>
 <p align="center">
  ğŸ’¡ æ¶µç›–ä»åŸºç¡€çŸ¥è¯†åˆ°å®æˆ˜é¡¹ç›®çš„èµ„æ–™ä¸ç¤ºä¾‹ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå…¥é—¨å¹¶é€æ­¥è¿›é˜¶ï¼
</p>

---

## ğŸ“Œ ç›®å½•

* [ç®€ä»‹](#-ç®€ä»‹)
* [ä»“åº“ç›®æ ‡](#-ä»“åº“ä¸€è§ˆ)
* [å­¦ä¹ èµ„æ–™](#-å­¦ä¹ èµ„æ–™)
  * [å®˜æ–¹èµ„æ–™](#-å®˜æ–¹èµ„æ–™)
  * [ç²¾é€‰ä¹¦ç±](#-ç²¾é€‰ä¹¦ç±)
  * [å…¥é—¨æ•™ç¨‹](#-å…¥é—¨æ•™ç¨‹)
  * [è¿›é˜¶æŠ€æœ¯](#-è¿›é˜¶æŠ€æœ¯)
  * [æŠ€æœ¯æ–‡ç« ](#-æŠ€æœ¯æ–‡ç« )
  * [å­¦ä¹ è§†é¢‘](#-å­¦ä¹ è§†é¢‘)
  * [é¢è¯•é¢˜](#-é¢è¯•é¢˜)
* [ç›¸å…³æŠ€æœ¯](#-ç›¸å…³æŠ€æœ¯)
  * [ç½‘ç»œåŸºç¡€](#-ç½‘ç»œåŸºç¡€)
  * [MySQL](#-MySQL)
  * [Redis](#-Redis)
* [Ginæ¡†æ¶](#-Ginæ¡†æ¶)
* [é¡¹ç›®å®æˆ˜](#-é¡¹ç›®å®æˆ˜)
---

## ğŸš€ ç®€ä»‹
Golangï¼ˆåˆç§° Goï¼‰æ˜¯ç”±Googleäº 2009 å¹´æ¨å‡ºçš„é™æ€å¼ºç±»å‹ã€ç¼–è¯‘å‹ç¼–ç¨‹è¯­è¨€ï¼Œæ ¸å¿ƒè®¾è®¡ç›®æ ‡æ˜¯è§£å†³ â€œå¤§è§„æ¨¡ç³»ç»Ÿå¼€å‘ä¸­çš„æ•ˆç‡ã€å¹¶å‘ã€éƒ¨ç½²å¤æ‚åº¦â€ é—®é¢˜ï¼Œå…¼é¡¾äº† C è¯­è¨€çš„æ€§èƒ½ä¸ Python çš„å¼€å‘ä¾¿æ·æ€§ï¼Œç›®å‰å·²æˆä¸ºäº‘åŸç”Ÿã€åç«¯æœåŠ¡ã€å·¥å…·å¼€å‘é¢†åŸŸçš„ä¸»æµè¯­è¨€ä¹‹ä¸€ã€‚

---

## ğŸ” ä»“åº“ä¸€è§ˆ

* æä¾› åŸºç¡€çŸ¥è¯† + å·¥å…·æ¡†æ¶ + å®æˆ˜é¡¹ç›® çš„å­¦ä¹ å‚è€ƒ

* æ”¶å½• å­¦ä¹ èµ„æ–™ã€ä¹¦ç±ã€å¼€æºé¡¹ç›®ï¼Œé¿å…ä¿¡æ¯ç¢ç‰‡åŒ–

---

## ğŸ“š å­¦ä¹ èµ„æ–™
### ğŸ€ å®˜æ–¹èµ„æ–™
**Goå®˜æ–¹æ–‡æ¡£**ï¼š[https://go.dev/ref/spec](https://go.dev/ref/spec)

**Goè¯­è¨€ä¸­æ–‡ç½‘**ï¼š[https://go.p2hp.com/](https://go.p2hp.com/)

**Goç¼–ç¨‹æœ€ä½³å®è·µ**ï¼š[https://go.dev/doc/effective_go](https://go.dev/doc/effective_go) 

**Goè°·æ­Œå¼€æºä»“åº“**ï¼š[https://cs.opensource.google/go](https://cs.opensource.google/go)

**Goè¯­è¨€GitHubä»“åº“**ï¼š[https://github.com/golang/go](https://github.com/golang/go)

---
### ğŸ“– ç²¾é€‰ä¹¦ç±
#### å…¥é—¨é˜¶æ®µ
| No. | title | author |
| :--- | :--- | :--- |
| 1 | Go è¯­è¨€åœ£ç» | Alan A. A. Donovanã€Brian W. Kernighan |
| 2 | Go å…¥é—¨æŒ‡å— | Caleb Doxsey |

#### è¿›é˜¶é˜¶æ®µ
| No. | title | author |
| :--- | :--- | :--- |
| 1 | Effective Go | Go å®˜æ–¹å›¢é˜Ÿ |
| 2 | Go Web ç¼–ç¨‹ | è°¢å­Ÿå†› |
| 3 | Go è¯­è¨€é«˜æ€§èƒ½ç¼–ç¨‹ | æå®¢æ—¶é—´ |

#### æ·±å…¥é˜¶æ®µ
| No. | title | author |
| :--- | :--- | :--- |
| 1 | Go è¯­è¨€è®¾è®¡ä¸å®ç° | draveness |
| 2 | Go é«˜çº§ç¼–ç¨‹ | æŸ´æ ‘æ‰ã€æ›¹æ˜¥æ™– |
| 3 | Go è¯­è¨€è®¾è®¡å“²å­¦ | é™ˆçš“ |

---
### ğŸ“ å…¥é—¨æ•™ç¨‹
| No. | address |
| :--- | :--- |
| 1 | [å®˜æ–¹æ•™ç¨‹](https://tour.go-zh.org/welcome/1) |
| 2 | [èœé¸Ÿæ•™ç¨‹](https://www.runoob.com/go/go-tutorial.html) |
| 3 | [Cè¯­è¨€ä¸­æ–‡ç½‘](https://c.biancheng.net/golang/syntax/) |
| 4 | [Goè¯­è¨€åœ£ç»](https://gopl-zh.github.io/ch1/ch1-01.html) |
| 5 | [Golangä¸­æ–‡å­¦ä¹ æ–‡æ¡£](https://golang.halfiisland.com/essential/base/1.grammer.html) |

#### è¯­æ³•åŸºç¡€
| No. | address |
| :--- | :--- |
| 1 | [åŸºæœ¬è¯­æ³•](https://golang.halfiisland.com/essential/base/1.grammer.html) |
| 2 | [æ•°æ®ç±»å‹](https://golang.halfiisland.com/essential/base/10.datatype.html) |
| 3 | [å¸¸é‡](https://golang.halfiisland.com/essential/base/30.constant.html) |
| 4 | [å˜é‡](https://golang.halfiisland.com/essential/base/40.variable.html) |
| 5 | [è¾“å…¥è¾“å‡º](https://golang.halfiisland.com/essential/base/45.inout.html) |
| 6 | [æ¡ä»¶æ§åˆ¶](https://golang.halfiisland.com/essential/base/52.condition.html) |
| 7 | [å¾ªç¯æ§åˆ¶](https://golang.halfiisland.com/essential/base/55.loop.html) |
| 8 | [åˆ‡ç‰‡](https://golang.halfiisland.com/essential/base/60.slice.html) |
| 9 | [å­—ç¬¦ä¸²](https://golang.halfiisland.com/essential/base/62.string.html) |
| 10 | [æ˜ å°„è¡¨](https://golang.halfiisland.com/essential/base/65.map.html) |
| 11 | [æŒ‡é’ˆ](https://golang.halfiisland.com/essential/base/67.pointer.html) |
| 12 | [å‡½æ•°](https://golang.halfiisland.com/essential/base/69.func.html) |
| 13 | [ç»“æ„ä½“](https://golang.halfiisland.com/essential/base/75.struct.html) |
| 14 | [æ–¹æ³•](https://golang.halfiisland.com/essential/base/80.method.html) |


---
### âš™ï¸ è¿›é˜¶æŠ€æœ¯
| No. | address |
| :--- | :--- |
| 1 | [æ¥å£](https://golang.halfiisland.com/essential/senior/85.interface.html) |
| 2 | [æ³›å‹](https://golang.halfiisland.com/essential/senior/90.generic.html) |
| 3 | [è¿­ä»£å™¨](https://golang.halfiisland.com/essential/senior/91.iterator.html) |
| 4 | [ç±»å‹](https://golang.halfiisland.com/essential/senior/92.types.html) |
| 5 | [é”™è¯¯](https://golang.halfiisland.com/essential/senior/95.error.html) |
| 6 | [æ–‡ä»¶](https://golang.halfiisland.com/essential/senior/100.io.html) |
| 7 | [åå°„](https://golang.halfiisland.com/essential/senior/105.reflect.html) |
| 8 | [å¹¶å‘](https://golang.halfiisland.com/essential/senior/110.concurrency.html) |
| 9 | [æ¨¡å—](https://golang.halfiisland.com/essential/senior/115.module.html) |
| 10 | [æµ‹è¯•](https://golang.halfiisland.com/essential/senior/120.test.html) |

---
### ğŸ“Š æŠ€æœ¯æ–‡ç« 
| No. | article |
| :--- | :--- |
| 1 | [ä¸‹è½½å’Œå®‰è£…Go](https://go.p2hp.com/doc/install) |
| 2 | [åˆ›å»ºä¸€ä¸ª Go æ¨¡å—](https://go.p2hp.com/go.dev/doc/tutorial/create-module) |
| 3 | [å¤šæ¨¡å—å·¥ä½œåŒºå…¥é—¨](https://go.p2hp.com/go.dev/doc/tutorial/workspaces) |
| 4 | [ä½¿ç”¨ Go å’Œ Gin å¼€å‘ RESTful API](https://go.p2hp.com/go.dev/doc/tutorial/web-service-gin) |
| 5 | [æ³›å‹å…¥é—¨](https://go.p2hp.com/go.dev/doc/tutorial/generics) |
| 6 | [æ¨¡ç³Šæµ‹è¯•](https://go.p2hp.com/go.dev/doc/tutorial/fuzz) |
| 7 | [ç¼–å†™ Web åº”ç”¨ç¨‹åº](https://go.p2hp.com/doc/articles/wiki/) |
| 8 | [ç®¡ç†ä¾èµ–é¡¹](https://go.p2hp.com/doc/modules/managing-dependencies) |
| 9 | [è®¿é—®å…³ç³»æ•°æ®åº“](https://go.p2hp.com/doc/tutorial/database-access) |
| 10 | [ç¼–è¾‘å™¨æ’ä»¶å’Œ IDE](https://go.p2hp.com/go.dev/doc/editors) |
| 11 | [Goè¯­è¨€ä¸­ä½¿ç”¨sqlxæ¥æ“ä½œäº‹åŠ¡](https://cloud.tencent.com/developer/article/2444802?policyId=1004) |
| 12 | [Golangå­¦ä¹ ç¬”è®°ä¹‹Golangä¸Mysqläº¤äº’](https://cloud.tencent.com/developer/article/1379871?policyId=1004) |
| 13 | [æ‰‹æŠŠæ‰‹å¸¦ä½ ä»0æ­å»ºä¸€ä¸ªGolang ORMæ¡†æ¶ï¼ˆå…¨ï¼‰ï¼](https://cloud.tencent.com/developer/article/1927194?policyId=1004) |
| 14 | [golangæºç åˆ†æï¼ˆ2ï¼‰ï¼šGolang context åŒ…](https://cloud.tencent.com/developer/article/2064586) |
| 15 | [Golangå¯èƒ½ä¼šè¸©çš„58ä¸ªå‘](https://blog.csdn.net/qq_35461287/article/details/124861875?ops_request_misc=&request_id=&biz_id=102&utm_term=Golang&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-6-124861875.142^v102^control&spm=1018.2226.3001.4187) |
| 16 | [golangç¡¬æ ¸æŠ€æœ¯ï¼ˆä¸€ï¼‰å†…å­˜ç®¡ç†](https://blog.csdn.net/qq_25490573/article/details/130027162?ops_request_misc=&request_id=&biz_id=102&utm_term=golang&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-6-130027162.142^v102^control&spm=1018.2226.3001.4187) |
| 17 | [golang å®šæ—¶ä»»åŠ¡å¤„ç†](https://blog.csdn.net/molaifeng/article/details/123886894?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522b28a2f290521b49e6d14dddd80987be8%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=b28a2f290521b49e6d14dddd80987be8&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-13-123886894-null-null.142^v102^control&utm_term=golang&spm=1018.2226.3001.4187) |
| 18 | [golangé«˜çº§è¿›é˜¶ï¼ˆä¸€ï¼‰ï¼šè¿›ç¨‹ã€çº¿ç¨‹ã€å¹¶å‘ã€å¹¶è¡Œã€goroutineåç¨‹](https://blog.csdn.net/genziisme/article/details/124324755?spm=1001.2101.3001.6650.3&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-3-124324755-blog-145618546.235%5Ev43%5Epc_blog_bottom_relevance_base5&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-3-124324755-blog-145618546.235%5Ev43%5Epc_blog_bottom_relevance_base5&utm_relevant_index=6) |
| 19 | [ç™½è¯ Golang åç¨‹æ± ](https://cloud.tencent.com/developer/article/1825581) |
| 20 | [å…¨æ–‡å›¾è§£Golang è°ƒåº¦å™¨ GMP åŸç†ä¸è°ƒåº¦](https://zhuanlan.zhihu.com/p/288017699) |
| 21 | [æ·±å…¥ç†è§£Goè¯­è¨€ä¸­çš„Channelä¸Select](https://blog.csdn.net/weixin_53623989/article/details/136209823) |
| 22 | [åŒæ­¥åŸè¯­ä¸é”](https://draven.co/golang/docs/part3-runtime/ch06-concurrency/golang-sync-primitives/) |







### ğŸ“º å­¦ä¹ è§†é¢‘
| No. | address |
| :--- | :--- |
| 1 | []() |
| 2 | []() |
| 3 | []() |
| 4 | []() |

---
### ğŸ‘¥ é¢è¯•é¢˜
[1. golang ä¸­ make å’Œ new çš„åŒºåˆ«ï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_1)  
[2. æ•°ç»„å’Œåˆ‡ç‰‡ï¼ˆsliceï¼‰çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_2)  
[3. defer å…³é”®å­—çš„ä½œç”¨ã€æ‰§è¡Œé¡ºåºåŠå¯¹è¿”å›å€¼çš„å½±å“æ˜¯ä»€ä¹ˆï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_3)  
[4. å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿå“ªç§æ•ˆç‡æœ€é«˜ï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_4)  
[5. rune ç±»å‹çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿä¸ byte çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_5)
[6. åå°„ï¼ˆreflectionï¼‰æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨åå°„è·å–ç±»å‹ä¿¡æ¯å’Œä¿®æ”¹å˜é‡å€¼ï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_6)  
[7. Go è¯­è¨€ä¸­ struct tag çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_7)  
[8. è¯´è¯´ Go ä¸­çš„ init å‡½æ•°ï¼Œå’Œå®ƒçš„æ‰§è¡Œé¡ºåº](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_8)  
[9. Map çš„åº•å±‚å®ç°ã€å¹¶å‘å®‰å…¨æ€§åŠæ‰©å®¹æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_9)  
[10. å¦‚ä½•åˆ¤æ–­ Map ä¸­æ˜¯å¦åŒ…å«æŸä¸ªé”®ï¼Ÿå¦‚ä½•å®ç°æœ‰åº Mapï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_10)  
[11. golang å“ªäº›ç±»å‹å¯ä»¥ä½œä¸º map keyï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_11)  
[12. golang è§„èŒƒä¸­ï¼Œå“ªäº›æ•°æ®ç±»å‹ä¸å¯ä»¥æ¯”è¾ƒï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_12)  
[13. slice çš„åº•å±‚ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_13)  
[14. slice æ˜¯æ€ä¹ˆæ‰©å®¹çš„ï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_14)  
[15. Goroutine æ˜¯ä»€ä¹ˆï¼Ÿä¸çº¿ç¨‹çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•åˆ›å»º Goroutineï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_15)  
[16. golang çš„è¿›ç¨‹ã€çº¿ç¨‹ã€åç¨‹çš„åŒºåˆ«](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_16)  
[17. Channel çš„ä½œç”¨ã€åº•å±‚ç»“æ„åŠçº¿ç¨‹å®‰å…¨æ€§å¦‚ä½•ï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_17)  
[18. æ— ç¼“å†² Channel å’Œå¸¦ç¼“å†² Channel çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_18)  
[19. GMP è°ƒåº¦æ¨¡å‹çš„æ ¸å¿ƒç»„ä»¶åŠè°ƒåº¦æµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_19)  
[20. å¦‚ä½•æ§åˆ¶ Goroutine çš„å¹¶å‘æ•°é‡ï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_20)  
[21. Golang çš„åƒåœ¾å›æ”¶ï¼ˆGCï¼‰æœºåˆ¶åŠæ¼”è¿›è¿‡ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_21)  
[22. ä»€ä¹ˆæ˜¯å†…å­˜é€ƒé€¸ï¼Ÿå“ªäº›æƒ…å†µä¼šå¯¼è‡´å†…å­˜é€ƒé€¸ï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_22)  
[23. Go æ˜¯å¦‚ä½•åˆ†é…å†…å­˜çš„ï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_23)  
[24. ä»€ä¹ˆæ˜¯å†…å­˜æ³„æ¼ï¼ŸGolang ä¸­å¸¸è§çš„å†…å­˜æ³„æ¼åœºæ™¯åŠæ’æŸ¥æ–¹å¼æ˜¯ä»€ä¹ˆï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_24)  
[25. å¦‚ä½•ä½¿ç”¨ context åŒ…è¿›è¡Œ Goroutine é—´çš„ä¸Šä¸‹æ–‡ç®¡ç†ï¼Ÿ](https://github.com/qiye7c/awesome_golang_learning/blob/main/interview_question/README.md#subject_25)  

---
## ğŸ› ï¸ ç›¸å…³æŠ€æœ¯

# ğŸ¬ MySQL

## ä½¿ç”¨Goè¯­è¨€è¿æ¥MySQL

### ä¸€ã€å®‰è£…MySQLé©±åŠ¨    

1.1 å®‰è£… MySQL  
é¦–å…ˆï¼Œç¡®ä¿ä½ çš„ç³»ç»Ÿä¸­å®‰è£…äº† MySQL æ•°æ®åº“ã€‚å¯ä»¥ä»å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…è¿›è¡Œå®‰è£…ï¼Œæˆ–è€…ä½¿ç”¨åŒ…ç®¡ç†å™¨è¿›è¡Œå®‰è£…ã€‚  

1.2 å®‰è£… Go MySQL é©±åŠ¨  
åœ¨ Go ä¸­ï¼Œæœ€å¸¸ç”¨çš„ MySQL é©±åŠ¨æ˜¯ go-sql-driver/mysqlã€‚åœ¨ç»ˆç«¯è¿è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š
```bash
go get -u github.com/go-sql-driver/mysql
```
1.3 é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯  
åœ¨å¼€å§‹ç¼–ç ä¹‹å‰ï¼Œéœ€è¦åœ¨ MySQL ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“å’Œç”¨æˆ·ï¼Œå¹¶æˆäºˆç›¸åº”çš„æƒé™ã€‚åŒæ—¶ï¼Œè®°å½•ä¸‹æ•°æ®åº“çš„ä¸»æœºåã€ç«¯å£å·ã€ç”¨æˆ·åå’Œå¯†ç ï¼Œè¿™äº›ä¿¡æ¯å°†åœ¨åç»­çš„ä»£ç ä¸­ç”¨äºå»ºç«‹è¿æ¥ã€‚

---

### äºŒã€è¿æ¥MySQL  

åœ¨ Go ä¸­ï¼Œä½¿ç”¨ database/sql åŒ…æ¥ç®¡ç†æ•°æ®åº“è¿æ¥ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•å»ºç«‹è¿æ¥ï¼š

```go
import (
    "database/sql"
    _ "github.com/go-sql-driver/mysql"
)

dsn := "user:password@tcp(127.0.0.1:3306)/dbname?charset=utf8mb4&parseTime=true&loc=Local"
db, err := sql.Open("mysql", dsn)
if err != nil {
    panic(err)
}
defer db.Close()

// éªŒè¯è¿æ¥
err = db.Ping()
if err != nil {
    panic(err)
}
```
---
### ä¸‰ã€å¢åˆ æ”¹æŸ¥

ä¸€æ—¦è¿æ¥å»ºç«‹ï¼Œå°±å¯ä»¥æ‰§è¡Œ SQLäº†ï¼š 

3.1 åˆ›å»ºè¡¨ï¼š  
```go
_, err := db.Exec(`
CREATE TABLE IF NOT EXISTS users (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50) NOT NULL,
    age INT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
`)
```
3.2 æ’å…¥æ•°æ®ï¼š
```go
res, err := db.Exec("INSERT INTO users(name, age) VALUES (?, ?)", "Alice", 20)
lastID, _ := res.LastInsertId()  // è·å–æ’å…¥ID
```
3.3 æŸ¥è¯¢æ•°æ®ï¼š
```go
rows, err := db.Query("SELECT id, name, age FROM users WHERE age > ?", 18)
defer rows.Close()

for rows.Next() {
    var id int64
    var name string
    var age int
    rows.Scan(&id, &name, &age)
    fmt.Printf("ID: %d, Name: %s, Age: %d\n", id, name, age)
}
```
3.4 åˆ é™¤æ•°æ®ï¼š
```go
res, err := db.Exec("DELETE FROM users WHERE name=?", "Alice")
rowsAffected, _ := res.RowsAffected()
```
---
### å››ã€äº‹åŠ¡å¤„ç†

åœ¨å¤„ç†æ¶‰åŠå¤šä¸ªæ•°æ®åº“æ“ä½œçš„ä¸šåŠ¡é€»è¾‘æ—¶ï¼Œäº‹åŠ¡æ˜¯ä¿è¯æ•°æ®ä¸€è‡´æ€§çš„å…³é”®ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„äº‹åŠ¡å¤„ç†ç¤ºä¾‹ï¼š  

```go
tx, err := db.Begin()
if err != nil {
    panic(err)
}

_, err = tx.Exec("INSERT INTO users(name, age) VALUES (?, ?)", "Bob", 25)
if err != nil {
    tx.Rollback()
    panic(err)
}

err = tx.Commit()
if err != nil {
    panic(err)
}
```
---
### äº”ã€è¿æ¥æ± çš„ä½¿ç”¨

5.1 è¿æ¥æ± çš„é‡è¦æ€§ï¼š  
åœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œå»ºç«‹å’Œå…³é—­æ•°æ®åº“è¿æ¥çš„å¼€é”€æ˜¯éå¸¸å¤§çš„ã€‚ä½¿ç”¨è¿æ¥æ± å¯ä»¥å¤ç”¨æ•°æ®åº“è¿æ¥ï¼Œæé«˜æ€§èƒ½ã€‚  

5.2 è¿æ¥æ± é…ç½®ï¼š
```go
db.SetMaxOpenConns(100)           // æœ€å¤§æ‰“å¼€è¿æ¥æ•°
db.SetMaxIdleConns(20)            // æœ€å¤§ç©ºé—²è¿æ¥æ•°
db.SetConnMaxLifetime(time.Hour)  // è¿æ¥æœ€å¤§å­˜æ´»æ—¶é—´
db.SetConnMaxIdleTime(30*time.Minute) // è¿æ¥æœ€å¤§ç©ºé—²æ—¶é—´
```
---

## GORMçš„ä½¿ç”¨   
ä½œä¸º Go è¯­è¨€ä¸­æœ€å—æ¬¢è¿çš„å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆORMï¼‰åº“ï¼ŒGORM æä¾›äº†ä¸€å¥—ç®€æ´ä¸”åŠŸèƒ½å¼ºå¤§çš„ APIï¼Œæå¤§åœ°ç®€åŒ–äº†æ•°æ®åº“æ“ä½œã€‚  

### ä¸€ã€GORM ç®€ä»‹
GORM æ˜¯ç”¨ Go è¯­è¨€ç¼–å†™çš„ ORM åº“ï¼Œå®ƒåŸºäº httprouter å’Œ Go æ ‡å‡†åº“æ„å»ºã€‚å…¶ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š  
- ç®€æ´æ˜“ç”¨ï¼šé€šè¿‡å®šä¹‰ç»“æ„ä½“æ¥æ˜ å°„æ•°æ®åº“è¡¨ï¼Œç®€åŒ–æ•°æ®æ“ä½œï¼›
- åŠŸèƒ½å…¨é¢ï¼šæ”¯æŒ CRUDã€äº‹åŠ¡ã€é¢„åŠ è½½ã€å…³è”å…³ç³»ã€è‡ªåŠ¨è¿ç§»ç­‰å¸¸è§åŠŸèƒ½ï¼›
- æ‰©å±•æ€§å¼ºï¼šå†…ç½®é’©å­å‡½æ•°ã€æ’ä»¶æœºåˆ¶ä»¥åŠå¯¹å¤šç§æ•°æ®åº“ï¼ˆMySQLã€PostgreSQLã€SQLiteã€SQL Server ç­‰ï¼‰çš„æ”¯æŒï¼›
- æ€§èƒ½ä¼˜ç§€ï¼šç»è¿‡å¤§é‡ä¼˜åŒ–ï¼Œèƒ½å¤Ÿåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ä¿æŒç¨³å®šæ€§èƒ½ã€‚

å‚è€ƒ:[GORMå®˜æ–¹æ–‡æ¡£](https://gorm.io/zh_CN/docs/index.html)  

---
### äºŒã€ç¯å¢ƒæ­å»ºä¸å®‰è£…
åœ¨ä½¿ç”¨ GORM ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦å®‰è£… Go ç¯å¢ƒï¼Œç„¶åé€šè¿‡ ```go get``` å‘½ä»¤å®‰è£… GORM åŠæ‰€éœ€æ•°æ®åº“é©±åŠ¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ ä½¿ç”¨ MySQL æ•°æ®åº“ï¼Œåœ¨ç»ˆç«¯è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š
```bash
# å®‰è£… GORM æ¡†æ¶
go get -u gorm.io/gorm

# å®‰è£… MySQL é©±åŠ¨
go get -u gorm.io/driver/mysql
```
##### âš ï¸ ```gorm.io/driver/mysql``` æ˜¯ GORM v2 æ¨èçš„ MySQL é©±åŠ¨ï¼Œæ”¯æŒ database/sql æ¥å£ã€‚  


å®‰è£…å®Œæˆåï¼Œåœ¨é¡¹ç›®ä»£ç ä¸­å¯¼å…¥ç›¸å…³åŒ…ï¼š
```go
import (
    "gorm.io/gorm"
    "gorm.io/driver/mysql"
)
```
---
### ä¸‰ã€è¿æ¥æ•°æ®åº“

GORM é€šè¿‡ ```gorm.Open()``` æ¥åˆ›å»ºæ•°æ®åº“è¿æ¥ã€‚æˆ‘ä»¬éœ€è¦æä¾› DSNï¼ˆData Source Nameï¼‰ å‘Šè¯‰ GORM å¦‚ä½•è¿æ¥ MySQLã€‚
```go
package main

import (
  "gorm.io/driver/mysql"
  "gorm.io/gorm"
)

func main() {
  // DSN æ ¼å¼ï¼šuser:password@tcp(IP:ç«¯å£)/æ•°æ®åº“å?å‚æ•°
  dsn := "root:123456@tcp(127.0.0.1:3306)/testdb?charset=utf8mb4&parseTime=True&loc=Local"
  
  // æ‰“å¼€æ•°æ®åº“è¿æ¥
  db, err := gorm.Open(mysql.Open(dsn), &gorm.Config{})
  if err != nil {
    panic("failed to connect database")
  }

  // é…ç½®è¿æ¥æ± 
  sqlDB, _ := db.DB()
  sqlDB.SetMaxOpenConns(100) // æœ€å¤§æ‰“å¼€è¿æ¥æ•°
  sqlDB.SetMaxIdleConns(20)  // æœ€å¤§ç©ºé—²è¿æ¥æ•°
  sqlDB.SetConnMaxLifetime(time.Hour) // è¿æ¥æœ€å¤§å­˜æ´»æ—¶é—´
}
```
---

### å››ã€æ¨¡å‹å®šä¹‰ï¼ˆModelï¼‰ 
åœ¨ GORM ä¸­ï¼Œæ¨¡å‹å°±æ˜¯ä¸€ä¸ª Go ç»“æ„ä½“ï¼Œæ¯ä¸ªå­—æ®µå¯¹åº”æ•°æ®åº“è¡¨çš„ä¸€åˆ—ã€‚
```go
type User struct {
  gorm.Model           // å†…ç½®å­—æ®µï¼šID, CreatedAt, UpdatedAt, DeletedAt
  Name       string
  Age        int
  Email      string `gorm:"unique"` // Email å”¯ä¸€
  Password   string
}
```
```gorm.Model``` æ˜¯ GORM æä¾›çš„åŸºç¡€æ¨¡å‹ç»“æ„ä½“ï¼Œå¸®ä½ è‡ªåŠ¨æ·»åŠ ï¼š
- IDï¼šä¸»é”®
- CreatedAtï¼šåˆ›å»ºæ—¶é—´
- UpdatedAtï¼šæ›´æ–°æ—¶é—´
- DeletedAtï¼šåˆ é™¤æ—¶é—´ï¼ˆç”¨äºè½¯åˆ é™¤ï¼‰
---
### äº”ã€æ•°æ®åº“è¿ç§»ï¼ˆAuto Migrationï¼‰  
GORM æä¾› ```AutoMigrate()``` æ–¹æ³•ï¼Œå¯ä»¥æ ¹æ®æ¨¡å‹è‡ªåŠ¨åˆ›å»ºæˆ–æ›´æ–°æ•°æ®åº“è¡¨ç»“æ„ã€‚  
```go
// è‡ªåŠ¨è¿ç§»
db.AutoMigrate(&User{})
```
ç‰¹ç‚¹ï¼š  
- åªä¼šæ–°å¢å­—æ®µå’Œç´¢å¼•ï¼Œä¸ä¼šåˆ é™¤å·²æœ‰å­—æ®µæˆ–ç´¢å¼•
- éå¸¸é€‚åˆåœ¨å¼€å‘é˜¶æ®µå¿«é€ŸåŒæ­¥è¡¨ç»“æ„
---
### å…­ã€CRUD æ“ä½œ   
6.1 åˆ›å»ºï¼ˆCreateï¼‰
ä½¿ç”¨ ```db.Create() ```æ’å…¥ä¸€æ¡è®°å½•åˆ°æ•°æ®åº“ã€‚
```go
user := User{Name: "Alice", Age: 20, Email: "alice@example.com", Password: "123456"}
result := db.Create(&user)

fmt.Println(user.ID)             // æ’å…¥åIDä¼šè‡ªåŠ¨å›å¡«
fmt.Println(result.Error)        // é”™è¯¯ä¿¡æ¯
fmt.Println(result.RowsAffected) // å½±å“è¡Œæ•°
```
6.2 æŸ¥è¯¢ï¼ˆReadï¼‰
GORM æä¾›äº†å¤šç§æŸ¥è¯¢æ–¹æ³•ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ï¼š
- ```First()```ï¼šæŸ¥è¯¢ç¬¬ä¸€æ¡è®°å½•
- ```Find()```ï¼šæŸ¥è¯¢å¤šæ¡è®°å½•
- ```Where()```ï¼šæ·»åŠ æ¡ä»¶
```go
var user User
// æ ¹æ®ä¸»é”®æŸ¥è¯¢
db.First(&user, 1) // æŸ¥è¯¢ ID=1 çš„ç”¨æˆ·
fmt.Printf("%+v\n", user)

// æ¡ä»¶æŸ¥è¯¢
var users []User
db.Where("age > ?", 18).Find(&users)

// æ¨¡ç³ŠæŸ¥è¯¢
db.Where("name LIKE ?", "%li%").Find(&users)

// æ’åº
db.Order("age desc").Find(&users)
```
6.3 æ›´æ–°ï¼ˆUpdateï¼‰
GORM æä¾›```Update()ï¼ˆå•å­—æ®µ```ï¼‰å’Œ```Updates()ï¼ˆå¤šå­—æ®µï¼‰```ä¸¤ç§æ–¹æ³•ã€‚
```go
// æ›´æ–°å•ä¸ªå­—æ®µ
db.Model(&User{ID: 1}).Update("Age", 21)

// æ›´æ–°å¤šä¸ªå­—æ®µ
db.Model(&User{ID: 1}).Updates(User{Name: "Alice Updated", Age: 22})

// æ›´æ–°é€‰å®šå­—æ®µï¼ˆå¿½ç•¥é›¶å€¼ï¼‰
db.Model(&User{ID: 1}).Select("Name").Updates(User{Name: "Alice Selected", Age: 0})
```
6.4 åˆ é™¤ï¼ˆDeleteï¼‰
é»˜è®¤æ˜¯è½¯åˆ é™¤ï¼ˆæ›´æ–° ```DeletedAt``` å­—æ®µï¼‰ï¼Œä¸ä¼šçœŸæ­£åˆ é™¤æ•°æ®ã€‚
```go
// è½¯åˆ é™¤
db.Delete(&User{}, 1)

// ç‰©ç†åˆ é™¤ï¼ˆçœŸæ­£åˆ é™¤æ•°æ®ï¼‰
db.Unscoped().Delete(&User{}, 1)
```
---
### ä¸ƒã€äº‹åŠ¡å¤„ç†
GORM æ”¯æŒæ•°æ®åº“äº‹åŠ¡ï¼Œå¯ä»¥ä¿è¯ä¸€ç³»åˆ—æ“ä½œçš„åŸå­æ€§ã€‚  
```go
tx := db.Begin()
if tx.Error != nil {
  panic(tx.Error)
}

if err := tx.Create(&User{Name: "Bob", Age: 25}).Error; err != nil {
  tx.Rollback()
  panic(err)
}

if err := tx.Create(&User{Name: "Charlie", Age: 30}).Error; err != nil {
  tx.Rollback()
  panic(err)
}

tx.Commit()
```
---
### å…«ã€å…³è”å…³ç³»
GORM æ”¯æŒå¸¸è§çš„å…³è”å…³ç³»ï¼š
- Has Oneï¼ˆä¸€å¯¹ä¸€ï¼‰
- Has Manyï¼ˆä¸€å¯¹å¤šï¼‰
- Belongs Toï¼ˆå±äºï¼‰
- Many To Manyï¼ˆå¤šå¯¹å¤šï¼‰
ä¸€å¯¹å¤šç¤ºä¾‹ï¼š
```go
type User struct {
  gorm.Model
  Name  string
  Posts []Post // ä¸€ä¸ªç”¨æˆ·æœ‰å¤šç¯‡æ–‡ç« 
}

type Post struct {
  gorm.Model
  Title  string
  UserID uint // å¤–é”®
}

// åˆ›å»ºç”¨æˆ·å’Œæ–‡ç« 
db.Create(&User{
  Name: "Alice",
  Posts: []Post{
    {Title: "Post 1"},
    {Title: "Post 2"},
  },
})

// æŸ¥è¯¢æ—¶é¢„åŠ è½½å…³è”
var user User
db.Preload("Posts").First(&user, 1)
```
---
### ä¹ã€é’©å­å‡½æ•°ï¼ˆHooksï¼‰  
Hooks æ˜¯åœ¨åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ç­‰æ“ä½œå‰åè‡ªåŠ¨è°ƒç”¨çš„å‡½æ•°ï¼Œæ–¹ä¾¿ä½ åœ¨æ•°æ®å˜æ›´æ—¶åšé¢å¤–é€»è¾‘ï¼ˆå¦‚æ•°æ®æ ¡éªŒã€å¯†ç åŠ å¯†ï¼‰ã€‚
```go
func (u *User) BeforeCreate(tx *gorm.DB) error {
  fmt.Println("Before Create")
  return nil
}

func (u *User) AfterCreate(tx *gorm.DB) error {
  fmt.Println("After Create")
  return nil
}
```
---
### åã€å¸¸è§é—®é¢˜ä¸æœ€ä½³å®è·µ
10.1 å­—æ®µæ ‡ç­¾ï¼ˆTagsï¼‰  
```go
type User struct {
  gorm.Model
  Email string `gorm:"unique;not null"`
  Age   int    `gorm:"default:18"`
}
```
10.2 é›¶å€¼é—®é¢˜  
- é»˜è®¤ GORM ä¼šå¿½ç•¥é›¶å€¼å­—æ®µæ›´æ–°
- è§£å†³æ–¹æ³•ï¼šdb.Model(...).Select("å­—æ®µå").Updates(...)

10.3 è½¯åˆ é™¤  
- å¸¦ gorm.DeletedAt å­—æ®µçš„æ¨¡å‹é»˜è®¤å¯ç”¨è½¯åˆ é™¤
- ä½¿ç”¨ Unscoped() æŸ¥è¯¢æ‰€æœ‰è®°å½•ï¼ˆåŒ…æ‹¬å·²åˆ é™¤çš„ï¼‰
  
10.4 æ€§èƒ½ä¼˜åŒ–  
- æ‰¹é‡æ’å…¥ï¼šdb.CreateInBatches(users, 100)
- é¿å… N+1 æŸ¥è¯¢ï¼šå¯¹äºå¤æ‚å…³è”æŸ¥è¯¢ï¼Œé¢„åŠ è½½ï¼ˆPreloadï¼‰å¯ä»¥å‡å°‘ N+1 æŸ¥è¯¢é—®é¢˜ï¼Œä½†åœ¨æ•°æ®é‡è¾ƒå¤§æ—¶è¦æ³¨æ„æ€§èƒ½
  
10.5 æ‰¹é‡æ“ä½œ  
- å°½å¯èƒ½ä½¿ç”¨æ‰¹é‡æ’å…¥å’Œæ›´æ–°ï¼Œå‡å°‘æ•°æ®åº“è¿æ¥æ¬¡æ•°ï¼›

### åä¸€ã€å®æˆ˜æ¡ˆä¾‹
ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨ GORM å®Œæˆä¸€ä¸ªç”¨æˆ·çš„ CRUD æ“ä½œï¼Œå¹¶å¤„ç†ä¸€å¯¹å¤šå…³è”å…³ç³»ï¼š
```go
package main

import (
    "fmt"
    "log"
    "time"

    "gorm.io/driver/mysql"
    "gorm.io/gorm"
)

type User struct {
    ID        uint      `gorm:"primaryKey"`
    Name      string    `gorm:"size:100;not null"`
    Age       int       `gorm:"not null"`
    Email     string    `gorm:"unique;not null"`
    Orders    []Order   // ä¸€å¯¹å¤šå…³è”å…³ç³»
    CreatedAt time.Time
}

type Order struct {
    ID     uint   `gorm:"primaryKey"`
    Item   string `gorm:"not null"`
    UserID uint
}

func main() {
    dsn := "username:password@tcp(127.0.0.1:3306)/dbname?charset=utf8mb4&parseTime=True&loc=Local"
    db, err := gorm.Open(mysql.Open(dsn), &gorm.Config{})
    if err != nil {
        log.Fatal("è¿æ¥æ•°æ®åº“å¤±è´¥ï¼š", err)
    }

    // è‡ªåŠ¨è¿ç§»ï¼Œç¡®ä¿æ•°æ®åº“è¡¨ç»“æ„å’Œæ¨¡å‹åŒæ­¥
    db.AutoMigrate(&User{}, &Order{})

    // åˆ›å»ºç”¨æˆ·åŠå…³è”è®¢å•
    user := User{
        Name:  "Alice",
        Age:   28,
        Email: "alice@example.com",
        Orders: []Order{
            {Item: "Laptop"},
            {Item: "Smartphone"},
        },
    }
    db.Create(&user)

    // æŸ¥è¯¢ç”¨æˆ·åŠå…¶è®¢å•
    var u User
    db.Preload("Orders").First(&u, user.ID)
    fmt.Printf("ç”¨æˆ·ï¼š%v\nè®¢å•ï¼š%v\n", u, u.Orders)

    // æ›´æ–°ç”¨æˆ·æ•°æ®
    db.Model(&u).Update("Age", 29)

    // åˆ é™¤ç”¨æˆ·è®°å½•ï¼ˆçº§è”åˆ é™¤è®¢å•éœ€è¦æ‰‹åŠ¨å¤„ç†æˆ–è®¾ç½®å¤–é”®çº¦æŸï¼‰
    db.Delete(&u)
}
```
åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡è‡ªåŠ¨è¿ç§»ç¡®ä¿æ•°æ®åº“è¡¨ç»“æ„ä¸æ¨¡å‹ä¿æŒä¸€è‡´ï¼Œå¹¶å®ç°äº†ç”¨æˆ·å’Œè®¢å•çš„åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°å’Œåˆ é™¤æ“ä½œã€‚é€šè¿‡ Preload æ–¹æ³•ï¼Œæˆ‘ä»¬è¿˜æ¼”ç¤ºäº†å¦‚ä½•åŠ è½½å…³è”æ•°æ®ã€‚

---

# ğŸ’¾ Redis

---
##  ğŸ’» é¡¹ç›®å®æˆ˜




